{"openapi":"3.0.0","paths":{"/api/auth/register":{"post":{"description":"Creates a new customer account with email/phone and password","operationId":"AuthController_register","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterDto"}}}},"responses":{"201":{"description":"User registered successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/MessageOnlyResponse"},{}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"409":{"description":"User already exists","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConflictErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"summary":"Register a new user","tags":["Authentication"]}},"/api/auth/login":{"post":{"description":"Authenticate user with password or OTP","operationId":"AuthController_login","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDto"}}}},"responses":{"200":{"description":"User logged in successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/MessageOnlyResponse"},{}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"summary":"Login with password or OTP","tags":["Authentication"]}},"/api/auth/login/google":{"post":{"description":"Authenticate user with Google OAuth","operationId":"AuthController_loginWithGoogle","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginWithGoogleDto"}}}},"responses":{"200":{"description":"User logged in successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/MessageOnlyResponse"},{}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"summary":"Login with Google","tags":["Authentication"]}},"/api/auth/otp/request":{"post":{"description":"Send OTP to email or phone number","operationId":"AuthController_requestOTP","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RequestOTPDto"}}}},"responses":{"200":{"description":"OTP sent successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/MessageOnlyResponse"},{}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"summary":"Request OTP","tags":["Authentication"]}},"/api/auth/otp/verify":{"post":{"description":"Verify OTP code","operationId":"AuthController_verifyOTP","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VerifyOTPDto"}}}},"responses":{"200":{"description":"OTP verified successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/MessageOnlyResponse"},{}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"summary":"Verify OTP","tags":["Authentication"]}},"/api/auth/refresh":{"post":{"description":"Get new access token using refresh token","operationId":"AuthController_refreshToken","parameters":[],"responses":{"200":{"description":"Token refreshed successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/MessageOnlyResponse"},{}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"summary":"Refresh access token","tags":["Authentication"]}},"/api/auth/logout":{"post":{"description":"Clear authentication cookies","operationId":"AuthController_logout","parameters":[],"responses":{"200":{"description":"User logged out successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/MessageOnlyResponse"},{}]}}}}},"summary":"Logout","tags":["Authentication"]}},"/api/users/me":{"get":{"description":"Retrieves the authenticated user profile","operationId":"UserController_getMe","parameters":[],"responses":{"200":{"description":"User profile fetched successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"$ref":"#/components/schemas/MeResponseDto"}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Get current user profile","tags":["Users"]}},"/api/users":{"get":{"description":"Retrieves all users with pagination. Admin only.","operationId":"UserController_findAll","parameters":[{"name":"page","required":false,"in":"query","description":"Page number","schema":{"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Items per page","schema":{"default":10,"type":"number"}},{"name":"search","required":false,"in":"query","description":"Search term","schema":{"type":"string"}},{"name":"status","required":false,"in":"query","description":"Filter by status","schema":{"type":"string","enum":["active","suspended","disabled"]}}],"responses":{"200":{"description":"Users retrieved successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpPaginatedResponse"},{"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/UserResponseDto"}}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Get all users","tags":["Users"]},"patch":{"description":"Updates the authenticated user profile","operationId":"UserController_update","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserDto"}}}},"responses":{"200":{"description":"User updated successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"$ref":"#/components/schemas/UserResponseDto"}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Update current user","tags":["Users"]}},"/api/users/{id}":{"get":{"description":"Retrieves a single user by ID. Admin only.","operationId":"UserController_findOne","parameters":[{"name":"id","required":true,"in":"path","description":"User CUID","schema":{"format":"cuid","type":"string"}}],"responses":{"200":{"description":"User retrieved successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"$ref":"#/components/schemas/UserResponseDto"}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Get user by ID","tags":["Users"]}},"/api/users/{id}/status":{"patch":{"description":"Updates user account status. Admin only.","operationId":"UserController_updateStatus","parameters":[{"name":"id","required":true,"in":"path","description":"User CUID","schema":{"format":"cuid","type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserStatusDto"}}}},"responses":{"200":{"description":"User status updated successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"$ref":"#/components/schemas/UserResponseDto"}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Update user status","tags":["Users"]}},"/api/addresses":{"post":{"description":"Creates a new address for the authenticated user","operationId":"AddressController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAddressDto"}}}},"responses":{"201":{"description":"Address created successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"$ref":"#/components/schemas/AddressResponseDto"}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Create address","tags":["Addresses"]},"get":{"description":"Retrieves all addresses associated with the authenticated user","operationId":"AddressController_find","parameters":[],"responses":{"200":{"description":"List of addresses retrieved successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/AddressResponseDto"}}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Get my addresses","tags":["Addresses"]}},"/api/addresses/{id}":{"patch":{"description":"Updates an existing address for the authenticated user","operationId":"AddressController_update","parameters":[{"name":"id","required":true,"in":"path","description":"Address UUID","schema":{"format":"uuid","type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateAddressDto"}}}},"responses":{"200":{"description":"Address updated successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"$ref":"#/components/schemas/AddressResponseDto"}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"404":{"description":"Address not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Update address","tags":["Addresses"]},"delete":{"description":"Deletes an existing address for the authenticated user","operationId":"AddressController_delete","parameters":[{"name":"id","required":true,"in":"path","description":"Address UUID","schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Address deleted successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"$ref":"#/components/schemas/Object"}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"404":{"description":"Address not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Delete address","tags":["Addresses"]}},"/api/products/{id}":{"patch":{"description":"Updates catalog information only. Does NOT affect pricing or stock.","operationId":"ProductController_update","parameters":[{"name":"id","required":true,"in":"path","description":"Product UUID","schema":{"format":"uuid","type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProductDto"}}}},"responses":{"200":{"description":"Product updated successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"$ref":"#/components/schemas/ProductResponseDto"}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"404":{"description":"Product not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Update product information","tags":["Products"]},"get":{"description":"Retrieves a single product by ID with category populated. Public endpoint.","operationId":"ProductPublicController_findOne","parameters":[{"name":"id","required":true,"in":"path","description":"Product UUID","schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Product with category and variants retrieved successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"$ref":"#/components/schemas/ProductWithVariantsResponseDto"}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"404":{"description":"Product not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"summary":"Get product details with category","tags":["Products - Public"]}},"/api/products":{"get":{"description":"Retrieves paginated list of ACTIVE products with first variant and category. Perfect for homepage/listing pages. Public endpoint.","operationId":"ProductPublicController_findAll","parameters":[{"name":"page","required":false,"in":"query","description":"Page number","schema":{"minimum":1,"default":1,"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Number of items per page","schema":{"minimum":1,"maximum":100,"default":10,"example":10,"type":"number"}},{"name":"search","required":false,"in":"query","description":"Search term for product name or description","schema":{"example":"cotton shirt","type":"string"}},{"name":"categoryId","required":false,"in":"query","description":"Filter by category ID","schema":{"example":"123e4567-e89b-12d3-a456-426614174000","type":"string"}},{"name":"status","required":false,"in":"query","description":"Filter by product status","schema":{"example":"active","type":"string"}},{"name":"sortBy","required":false,"in":"query","description":"Sort by field","schema":{"default":"createdAt","example":"name","type":"string","enum":["name","price","createdAt"]}},{"name":"sortOrder","required":false,"in":"query","description":"Sort order","schema":{"default":"desc","example":"desc","type":"string","enum":["asc","desc"]}}],"responses":{"200":{"description":"Products with variant preview retrieved successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpPaginatedResponse"},{"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/ProductWithVariantPreviewDto"}}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"summary":"Browse marketplace products with preview","tags":["Products - Public"]}},"/api/products/{id}/with-variants":{"get":{"description":"Retrieves complete product details with category and all variants with images. Perfect for product detail pages. Public endpoint.","operationId":"ProductPublicController_getProductWithVariants","parameters":[{"name":"id","required":true,"in":"path","description":"Product UUID","schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Product details with category and variants retrieved successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"$ref":"#/components/schemas/ProductDetailDto"}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"404":{"description":"Product not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"summary":"Get product with all variants and category","tags":["Products - Public"]}},"/api/seller/products":{"get":{"description":"Retrieves all products owned by the seller. Shows all statuses.","operationId":"SellerProductController_getSellerProducts","parameters":[{"name":"page","required":false,"in":"query","description":"Page number","schema":{"minimum":1,"default":1,"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Number of items per page","schema":{"minimum":1,"maximum":100,"default":10,"example":10,"type":"number"}},{"name":"search","required":false,"in":"query","description":"Search term for product name or description","schema":{"example":"cotton shirt","type":"string"}},{"name":"categoryId","required":false,"in":"query","description":"Filter by category ID","schema":{"example":"123e4567-e89b-12d3-a456-426614174000","type":"string"}},{"name":"status","required":false,"in":"query","description":"Filter by product status","schema":{"example":"active","type":"string"}},{"name":"sortBy","required":false,"in":"query","description":"Sort by field","schema":{"default":"createdAt","example":"name","type":"string","enum":["name","price","createdAt"]}},{"name":"sortOrder","required":false,"in":"query","description":"Sort order","schema":{"default":"desc","example":"desc","type":"string","enum":["asc","desc"]}}],"responses":{"200":{"description":"Seller products retrieved successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpPaginatedResponse"},{"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/ProductWithVariantsResponseDto"}}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Get seller products","tags":["Products - Seller"]},"post":{"description":"Seller creates a new product catalog entry.","operationId":"SellerProductController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateProductDto"}}}},"responses":{"201":{"description":"Product created successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"$ref":"#/components/schemas/ProductResponseDto"}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Create new product","tags":["Products - Seller"]}},"/api/seller/products/{id}":{"patch":{"description":"Seller updates their own product information.","operationId":"SellerProductController_update","parameters":[{"name":"id","required":true,"in":"path","description":"Product UUID","schema":{"format":"uuid","type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProductDto"}}}},"responses":{"200":{"description":"Product updated successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"$ref":"#/components/schemas/ProductResponseDto"}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"404":{"description":"Product not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Update product","tags":["Products - Seller"]}},"/api/seller/products/{id}/activate":{"patch":{"description":"Seller activates their product to make it visible in marketplace.","operationId":"SellerProductController_activateProduct","parameters":[{"name":"id","required":true,"in":"path","description":"Product UUID","schema":{"format":"cuid","type":"string"}}],"responses":{"200":{"description":"Product activated successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/MessageOnlyResponse"},{}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"404":{"description":"Product not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Activate product","tags":["Products - Seller"]}},"/api/seller/products/{id}/deactivate":{"patch":{"description":"Seller deactivates their product to hide it from marketplace.","operationId":"SellerProductController_deactivateProduct","parameters":[{"name":"id","required":true,"in":"path","description":"Product UUID","schema":{"format":"cuid","type":"string"}}],"responses":{"200":{"description":"Product deactivated successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/MessageOnlyResponse"},{}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"404":{"description":"Product not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Deactivate product","tags":["Products - Seller"]}},"/api/admin/products":{"get":{"description":"Retrieves all products with all statuses for admin governance.","operationId":"AdminProductController_getAdminProducts","parameters":[{"name":"page","required":false,"in":"query","description":"Page number","schema":{"minimum":1,"default":1,"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Number of items per page","schema":{"minimum":1,"maximum":100,"default":10,"example":10,"type":"number"}},{"name":"search","required":false,"in":"query","description":"Search term for product name or description","schema":{"example":"cotton shirt","type":"string"}},{"name":"categoryId","required":false,"in":"query","description":"Filter by category ID","schema":{"example":"123e4567-e89b-12d3-a456-426614174000","type":"string"}},{"name":"status","required":false,"in":"query","description":"Filter by product status","schema":{"example":"active","type":"string"}},{"name":"sortBy","required":false,"in":"query","description":"Sort by field","schema":{"default":"createdAt","example":"name","type":"string","enum":["name","price","createdAt"]}},{"name":"sortOrder","required":false,"in":"query","description":"Sort order","schema":{"default":"desc","example":"desc","type":"string","enum":["asc","desc"]}}],"responses":{"200":{"description":"Admin products retrieved successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpPaginatedResponse"},{"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/ProductResponseDto"}}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Get all products (admin)","tags":["Products - Admin"]}},"/api/admin/products/{id}/status":{"patch":{"description":"Admin changes product status for governance.","operationId":"AdminProductController_updateProductStatus","parameters":[{"name":"id","required":true,"in":"path","description":"Product CUID","schema":{"format":"cuid","type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProductStatusDto"}}}},"responses":{"200":{"description":"Product status updated successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/MessageOnlyResponse"},{}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"404":{"description":"Product not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Update product status","tags":["Products - Admin"]}},"/api/admin/products/{id}/discontinue":{"patch":{"description":"Admin permanently discontinues a product. ONE-WAY operation.","operationId":"AdminProductController_discontinueProduct","parameters":[{"name":"id","required":true,"in":"path","description":"Product CUID","schema":{"format":"cuid","type":"string"}}],"responses":{"200":{"description":"Product discontinued successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/MessageOnlyResponse"},{}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"404":{"description":"Product not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Discontinue product (permanent)","tags":["Products - Admin"]}},"/api/products/{productId}/variants":{"post":{"description":"Creates a new sellable variant for an existing product. Required to make product purchasable.","operationId":"VariantController_createVariant","parameters":[{"name":"productId","required":true,"in":"path","description":"Product UUID to add variant to","schema":{"format":"uuid","example":"123e4567-e89b-12d3-a456-426614174000","type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateVariantDto"}}}},"responses":{"201":{"description":"Variant created successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"$ref":"#/components/schemas/VariantResponseDto"}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"404":{"description":"Product not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundErrorDto"}}}},"409":{"description":"SKU already exists","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConflictErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Add variant to product","tags":["Product Variants"]},"get":{"description":"Returns all variants (sizes, types) available for a product.","operationId":"VariantController_getVariantsByProduct","parameters":[{"name":"productId","required":true,"in":"path","description":"Product CUID","schema":{"format":"cuid","example":"123e4567-e89b-12d3-a456-426614174000","type":"string"}}],"responses":{"200":{"description":"Variants retrieved successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/VariantResponseDto"}}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"404":{"description":"Product not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"summary":"List all variants for a product","tags":["Product Variants"]}},"/api/products/variants/{variantId}":{"get":{"description":"Retrieves detailed information about a specific variant.","operationId":"VariantController_getVariant","parameters":[{"name":"variantId","required":true,"in":"path","description":"Variant UUID","schema":{"format":"uuid","example":"123e4567-e89b-12d3-a456-426614174000","type":"string"}}],"responses":{"200":{"description":"Variant retrieved successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"$ref":"#/components/schemas/VariantResponseDto"}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"404":{"description":"Variant not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"summary":"Get variant by ID","tags":["Product Variants"]},"patch":{"description":"Updates commerce attributes of a variant (price, stock, discount, etc.). Use dedicated endpoints for specific operations.","operationId":"VariantController_updateVariant","parameters":[{"name":"variantId","required":true,"in":"path","description":"Variant UUID","schema":{"format":"uuid","example":"123e4567-e89b-12d3-a456-426614174000","type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateVariantDto"}}}},"responses":{"200":{"description":"Variant updated successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/MessageOnlyResponse"},{}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"404":{"description":"Variant not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Update variant details","tags":["Product Variants"]},"delete":{"description":"Soft deletes a variant. Admin only.","operationId":"VariantController_deleteVariant","parameters":[{"name":"variantId","required":true,"in":"path","description":"Variant UUID","schema":{"format":"uuid","example":"123e4567-e89b-12d3-a456-426614174000","type":"string"}}],"responses":{"200":{"description":"Variant deleted successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/MessageOnlyResponse"},{}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"404":{"description":"Variant not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Delete variant (soft delete)","tags":["Product Variants"]}},"/api/products/variants/{variantId}/stock":{"patch":{"description":"Dedicated endpoint for stock management. Supports set, add, and reduce operations.","operationId":"VariantController_updateStock","parameters":[{"name":"variantId","required":true,"in":"path","description":"Variant UUID","schema":{"format":"uuid","example":"123e4567-e89b-12d3-a456-426614174000","type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateVariantStockDto"}}}},"responses":{"200":{"description":"Stock updated successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/MessageOnlyResponse"},{}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"404":{"description":"Variant not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Update variant stock","tags":["Product Variants"]}},"/api/products/variants/{variantId}/activate":{"patch":{"description":"Makes variant available for purchase (if stock > 0).","operationId":"VariantController_activateVariant","parameters":[{"name":"variantId","required":true,"in":"path","description":"Variant UUID","schema":{"format":"uuid","example":"123e4567-e89b-12d3-a456-426614174000","type":"string"}}],"responses":{"200":{"description":"Variant activated successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/MessageOnlyResponse"},{}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"404":{"description":"Variant not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Activate variant","tags":["Product Variants"]}},"/api/products/variants/{variantId}/deactivate":{"patch":{"description":"Makes variant unavailable for purchase (temporarily).","operationId":"VariantController_deactivateVariant","parameters":[{"name":"variantId","required":true,"in":"path","description":"Variant UUID","schema":{"format":"uuid","example":"123e4567-e89b-12d3-a456-426614174000","type":"string"}}],"responses":{"200":{"description":"Variant deactivated successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/MessageOnlyResponse"},{}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"404":{"description":"Variant not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Deactivate variant","tags":["Product Variants"]}},"/api/products/variants/{variantId}/images":{"post":{"description":"Uploads an image for a variant and associates it.","operationId":"VariantController_uploadVariantImage","parameters":[{"name":"variantId","required":true,"in":"path","description":"Variant CUID","schema":{"format":"cuid","example":"lqctr0s04iwd0hmx46g2xd6b","type":"string"}}],"responses":{"201":{"description":"Image uploaded successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"$ref":"#/components/schemas/UploadVariantImageResponseDto"}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"404":{"description":"Variant not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Upload variant image","tags":["Product Variants"]}},"/api/products/variants/{variantId}/images/save":{"post":{"description":"Saves the uploaded image information to the variant.","operationId":"VariantController_saveVariantImage","parameters":[{"name":"variantId","required":true,"in":"path","description":"Variant UUID","schema":{"format":"uuid","example":"123e4567-e89b-12d3-a456-426614174000","type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SaveVariantImageDto"}}}},"responses":{"200":{"description":"Image saved successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/MessageOnlyResponse"},{}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"404":{"description":"Variant not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Save variant image","tags":["Product Variants"]}},"/api/products/variants/{variantId}/images/{position}":{"delete":{"description":"Deletes an image associated with a variant.","operationId":"VariantController_deleteVariantImage","parameters":[{"name":"variantId","required":true,"in":"path","description":"Variant UUID","schema":{"format":"uuid","example":"123e4567-e89b-12d3-a456-426614174000","type":"string"}},{"name":"position","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Image deleted successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/MessageOnlyResponse"},{}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"404":{"description":"Variant not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Delete variant image","tags":["Product Variants"]}},"/api/categories":{"post":{"description":"Creates a new category with the provided details. Only admins can create categories.","operationId":"CategoryController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCategoryDto"}}}},"responses":{"201":{"description":"Category created successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/MessageOnlyResponse"},{}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Create a new category","tags":["Categories"]},"get":{"description":"Retrieves all categories","operationId":"CategoryController_findAll","parameters":[],"responses":{"200":{"description":"Categories retrieved successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/CategoryResponseDto"}}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"summary":"Get all categories","tags":["Categories"]}},"/api/categories/{id}":{"get":{"description":"Retrieves a single category by its ID","operationId":"CategoryController_findOne","parameters":[{"name":"id","required":true,"in":"path","description":"Category CUID","schema":{"format":"cuid","type":"string"}}],"responses":{"200":{"description":"Category retrieved successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"$ref":"#/components/schemas/CategoryResponseDto"}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"404":{"description":"Category not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"summary":"Get category by ID","tags":["Categories"]},"patch":{"description":"Updates an existing category. Only admins can update categories.","operationId":"CategoryController_update","parameters":[{"name":"id","required":true,"in":"path","description":"Category CUID","schema":{"format":"cuid","type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCategoryDto"}}}},"responses":{"200":{"description":"Category updated successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/MessageOnlyResponse"},{}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"404":{"description":"Category not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Update category","tags":["Categories"]},"delete":{"description":"Deletes a category. Only admins can delete categories.","operationId":"CategoryController_remove","parameters":[{"name":"id","required":true,"in":"path","description":"Category CUID","schema":{"format":"cuid","type":"string"}}],"responses":{"200":{"description":"Category deleted successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/MessageOnlyResponse"},{}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"404":{"description":"Category not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Delete category","tags":["Categories"]}},"/api/feed":{"get":{"description":"Retrieves categories with their products for feed display","operationId":"FeedController_getFeed","parameters":[],"responses":{"200":{"description":"Feed retrieved successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/GetCategoryProductFeedResponseDto"}}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"summary":"Get category product feed","tags":["Feeds"]}},"/api/offers":{"get":{"description":"Returns all currently active offers sorted by priority","operationId":"OfferController_getActiveOffers","parameters":[],"responses":{"200":{"description":"Active offers retrieved successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/OfferResponseDto"}}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"summary":"Get all active offers","tags":["Offers"]}},"/api/offers/{id}":{"get":{"description":"Retrieve detailed information about a specific offer","operationId":"OfferController_getOffer","parameters":[{"name":"id","required":true,"in":"path","description":"Offer ID","schema":{"example":"offer_clx1234567890","type":"string"}}],"responses":{"200":{"description":"Offer retrieved successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"$ref":"#/components/schemas/OfferResponseDto"}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"404":{"description":"Offer not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"summary":"Get offer by ID","tags":["Offers"]}},"/api/offers/product/{productId}":{"get":{"description":"Returns all active offers applicable to a specific product, sorted by priority","operationId":"OfferController_getProductOffers","parameters":[{"name":"productId","required":true,"in":"path","description":"Product ID","schema":{"example":"prod_clx1234567890","type":"string"}}],"responses":{"200":{"description":"Product offers retrieved successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/OfferResponseDto"}}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"summary":"Get offers for product","tags":["Offers"]}},"/api/admin/offers":{"post":{"description":"Create a new promotional offer with priority and applicability rules","operationId":"AdminOfferController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateOfferDto"}}}},"responses":{"201":{"description":"Offer created successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"$ref":"#/components/schemas/OfferResponseDto"}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Create new offer","tags":["Admin - Offers"]},"get":{"description":"Retrieve all offers with pagination","operationId":"AdminOfferController_findAll","parameters":[{"name":"page","required":false,"in":"query","description":"Page number","schema":{"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Items per page","schema":{"example":10,"type":"number"}}],"responses":{"200":{"description":"Offers retrieved successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/OfferResponseDto"}}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Get all offers","tags":["Admin - Offers"]}},"/api/admin/offers/{id}":{"get":{"description":"Retrieve detailed information about a specific offer","operationId":"AdminOfferController_findOne","parameters":[{"name":"id","required":true,"in":"path","description":"Offer ID","schema":{"example":"offer_clx1234567890","type":"string"}}],"responses":{"200":{"description":"Offer retrieved successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"$ref":"#/components/schemas/OfferResponseDto"}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"404":{"description":"Offer not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Get offer by ID","tags":["Admin - Offers"]},"patch":{"description":"Update offer details and configuration","operationId":"AdminOfferController_update","parameters":[{"name":"id","required":true,"in":"path","description":"Offer ID","schema":{"example":"offer_clx1234567890","type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateOfferDto"}}}},"responses":{"200":{"description":"Offer updated successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"$ref":"#/components/schemas/OfferResponseDto"}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"404":{"description":"Offer not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Update offer","tags":["Admin - Offers"]}},"/api/admin/offers/{id}/activate":{"patch":{"description":"Activate an offer to make it available","operationId":"AdminOfferController_activate","parameters":[{"name":"id","required":true,"in":"path","description":"Offer ID","schema":{"format":"uuid","example":"offer_clx1234567890","type":"string"}}],"responses":{"200":{"description":"Offer activated successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/MessageOnlyResponse"},{}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"404":{"description":"Offer not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Activate offer","tags":["Admin - Offers"]}},"/api/admin/offers/{id}/deactivate":{"patch":{"description":"Deactivate an offer to prevent it from being applied","operationId":"AdminOfferController_deactivate","parameters":[{"name":"id","required":true,"in":"path","description":"Offer ID","schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"Offer deactivated successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/MessageOnlyResponse"},{}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"404":{"description":"Offer not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Deactivate offer","tags":["Admin - Offers"]}},"/api/coupons/available":{"get":{"description":"Returns all active coupons that the user can still use based on per-user usage limits","operationId":"CouponController_getAvailableCoupons","parameters":[],"responses":{"200":{"description":"Available coupons retrieved successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/CouponResponseDto"}}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Get available coupons for user","tags":["Coupons"]}},"/api/coupons/validate":{"post":{"description":"Validates if a coupon can be applied to the cart with given total. Returns discount amount if valid.","operationId":"CouponController_validateCoupon","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidateCouponDto"}}}},"responses":{"200":{"description":"Coupon validation result","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"$ref":"#/components/schemas/CouponValidationResponseDto"}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Validate coupon for cart","tags":["Coupons"]}},"/api/coupons/code/{code}":{"get":{"description":"Retrieve coupon details by code","operationId":"CouponController_getCouponByCode","parameters":[{"name":"code","required":true,"in":"path","description":"Coupon code","schema":{"example":"SAVE20","type":"string"}}],"responses":{"200":{"description":"Coupon retrieved successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"$ref":"#/components/schemas/CouponResponseDto"}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"404":{"description":"Coupon not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Get coupon by code","tags":["Coupons"]}},"/api/admin/coupons":{"post":{"description":"Create a new discount coupon with usage limits and validation rules","operationId":"AdminCouponController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCouponDto"}}}},"responses":{"201":{"description":"Coupon created successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"$ref":"#/components/schemas/CouponResponseDto"}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Create new coupon","tags":["Admin - Coupons"]},"get":{"description":"Retrieve all coupons with pagination","operationId":"AdminCouponController_findAll","parameters":[{"name":"page","required":false,"in":"query","description":"Page number","schema":{"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Items per page","schema":{"example":10,"type":"number"}}],"responses":{"200":{"description":"Coupons retrieved successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/CouponResponseDto"}}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Get all coupons","tags":["Admin - Coupons"]}},"/api/admin/coupons/{id}":{"get":{"description":"Retrieve detailed information about a specific coupon","operationId":"AdminCouponController_findOne","parameters":[{"name":"id","required":true,"in":"path","description":"Coupon ID","schema":{"example":"clx1234567890","type":"string"}}],"responses":{"200":{"description":"Coupon retrieved successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"$ref":"#/components/schemas/CouponResponseDto"}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"404":{"description":"Coupon not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Get coupon by ID","tags":["Admin - Coupons"]},"patch":{"description":"Update coupon details and configuration","operationId":"AdminCouponController_update","parameters":[{"name":"id","required":true,"in":"path","description":"Coupon ID","schema":{"example":"clx1234567890","type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCouponDto"}}}},"responses":{"200":{"description":"Coupon updated successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"$ref":"#/components/schemas/CouponResponseDto"}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"404":{"description":"Coupon not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Update coupon","tags":["Admin - Coupons"]}},"/api/admin/coupons/{id}/activate":{"patch":{"description":"Activate a coupon to make it available for use","operationId":"AdminCouponController_activate","parameters":[{"name":"id","required":true,"in":"path","description":"Coupon ID","schema":{"example":"clx1234567890","type":"string"}}],"responses":{"200":{"description":"Coupon activated successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/MessageOnlyResponse"},{}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"404":{"description":"Coupon not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Activate coupon","tags":["Admin - Coupons"]}},"/api/admin/coupons/{id}/deactivate":{"patch":{"description":"Deactivate a coupon to prevent further use","operationId":"AdminCouponController_deactivate","parameters":[{"name":"id","required":true,"in":"path","description":"Coupon ID","schema":{"example":"clx1234567890","type":"string"}}],"responses":{"200":{"description":"Coupon deactivated successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/MessageOnlyResponse"},{}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"404":{"description":"Coupon not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Deactivate coupon","tags":["Admin - Coupons"]}},"/api/admin/coupons/{id}/usage":{"get":{"description":"Retrieve detailed usage history for a specific coupon","operationId":"AdminCouponController_getUsageHistory","parameters":[{"name":"id","required":true,"in":"path","description":"Coupon ID","schema":{"example":"clx1234567890","type":"string"}}],"responses":{"200":{"description":"Coupon usage history retrieved successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/CouponUsageResponseDto"}}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"404":{"description":"Coupon not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Get coupon usage history","tags":["Admin - Coupons"]}},"/api/admin/coupons/analytics/performance":{"get":{"description":"Retrieve analytics and performance metrics for all coupons including usage stats, revenue impact, and top performers","operationId":"AdminCouponController_getCouponAnalytics","parameters":[{"name":"startDate","required":false,"in":"query","description":"Start date for analytics period (ISO format)","schema":{"example":"2026-02-01T00:00:00Z","type":"string"}},{"name":"endDate","required":false,"in":"query","description":"End date for analytics period (ISO format)","schema":{"example":"2026-02-28T23:59:59Z","type":"string"}}],"responses":{"200":{"description":"Analytics retrieved successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/MessageOnlyResponse"},{}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Get coupon performance analytics","tags":["Admin - Coupons"]}},"/api/cart":{"get":{"operationId":"CartController_getCart","parameters":[],"responses":{"200":{"description":"Cart retrieved successfully with full product details","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"$ref":"#/components/schemas/CartWithDetailsResponseDto"}},"required":["data"]}]}}}},"404":{"description":"Cart not found"}},"security":[{"bearer":[]}],"summary":"Get user cart with product details","tags":["Cart"]}},"/api/cart/items":{"post":{"operationId":"CartController_addItem","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddItemToCartDto"}}}},"responses":{"201":{"description":"Item added to cart successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"$ref":"#/components/schemas/CartItemResponseDto"}},"required":["data"]}]}}}},"404":{"description":"Cart not found"}},"security":[{"bearer":[]}],"summary":"Add item to cart","tags":["Cart"]}},"/api/cart/items/{itemId}":{"put":{"operationId":"CartController_updateItem","parameters":[{"name":"itemId","required":true,"in":"path","description":"Cart item ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCartItemDto"}}}},"responses":{"200":{"description":"Item quantity updated successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"$ref":"#/components/schemas/CartItemResponseDto"}},"required":["data"]}]}}}},"403":{"description":"Not authorized to modify this item"},"404":{"description":"Cart item not found"}},"security":[{"bearer":[]}],"summary":"Update cart item quantity","tags":["Cart"]},"delete":{"operationId":"CartController_removeItem","parameters":[{"name":"itemId","required":true,"in":"path","description":"Cart item ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Item removed successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/MessageOnlyResponse"},{}]}}}},"403":{"description":"Not authorized to modify this item"},"404":{"description":"Cart item not found"}},"security":[{"bearer":[]}],"summary":"Remove item from cart","tags":["Cart"]}},"/api/cart/clear":{"delete":{"operationId":"CartController_clearCart","parameters":[],"responses":{"200":{"description":"Cart cleared successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/MessageOnlyResponse"},{}]}}}},"404":{"description":"Cart not found"}},"security":[{"bearer":[]}],"summary":"Clear all items from cart","tags":["Cart"]}},"/api/cart/pricing":{"get":{"description":"Calculate cart pricing including active offers and optional coupon discount. Returns complete breakdown of all discounts.","operationId":"CartController_getCartPricing","parameters":[{"name":"couponCode","required":false,"in":"query","description":"Coupon code to apply for pricing calculation","schema":{"example":"SAVE20","type":"string"}}],"responses":{"200":{"description":"Cart pricing calculated successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"$ref":"#/components/schemas/CartPricingDto"}},"required":["data"]}]}}}},"404":{"description":"Cart not found"}},"security":[{"bearer":[]}],"summary":"Get cart pricing with offers and optional coupon","tags":["Cart"]}},"/api/cart/apply-coupon":{"post":{"description":"Validate and apply a coupon code to the cart","operationId":"CartController_applyCoupon","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApplyCouponDto"}}}},"responses":{"200":{"description":"Coupon applied successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/MessageOnlyResponse"},{}]}}}},"400":{"description":"Invalid coupon or cart is empty"},"404":{"description":"Cart or coupon not found"}},"security":[{"bearer":[]}],"summary":"Apply coupon to cart","tags":["Cart"]}},"/api/checkout/preview":{"post":{"description":"Get pricing breakdown for checkout without committing. Validates coupon if provided. Safe to call multiple times.","operationId":"CheckoutController_previewCheckout","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CheckoutPreviewDto"}}}},"responses":{"200":{"description":"Checkout preview retrieved successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"$ref":"#/components/schemas/CheckoutPreviewResponseDto"}},"required":["data"]}]}}}},"400":{"description":"Cart is empty or invalid request"},"404":{"description":"Coupon not found"}},"security":[{"bearer":[]}],"summary":"Preview checkout pricing","tags":["Checkout"]}},"/api/checkout/commit":{"post":{"description":"Creates an order with pricing snapshot. Revalidates coupon, records usage, and clears cart if source is CART.","operationId":"CheckoutController_commitCheckout","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CheckoutCommitDto"}}}},"responses":{"201":{"description":"Order created successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"$ref":"#/components/schemas/CheckoutCommitResponseDto"}},"required":["data"]}]}}}},"400":{"description":"Cart is empty or invalid request"},"404":{"description":"Coupon or shipping address not found"}},"security":[{"bearer":[]}],"summary":"Commit checkout and create order","tags":["Checkout"]}},"/api/orders/my-orders":{"get":{"description":"Retrieve all orders for the authenticated customer","operationId":"CustomerOrderController_getMyOrders","parameters":[{"name":"page","required":false,"in":"query","description":"Page number","schema":{"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Items per page","schema":{"example":10,"type":"number"}}],"responses":{"200":{"description":"Orders retrieved successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/OrderResponseDto"}}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Get my orders","tags":["Orders - Customer"]}},"/api/orders/{id}/cancel":{"patch":{"description":"Cancel an order if it is still cancellable","operationId":"CustomerOrderController_cancelOrder","parameters":[{"name":"id","required":true,"in":"path","description":"Order ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CancelOrderDto"}}}},"responses":{"200":{"description":"Order cancelled successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"$ref":"#/components/schemas/OrderResponseDto"}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"404":{"description":"Order not found not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Cancel order","tags":["Orders - Customer"]}},"/api/admin/orders":{"get":{"description":"Retrieve all orders with optional filtering","operationId":"AdminOrderController_getAllOrders","parameters":[{"name":"page","required":false,"in":"query","description":"Page number","schema":{"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Items per page","schema":{"example":10,"type":"number"}},{"name":"status","required":false,"in":"query","description":"Filter by order status","schema":{"enum":["pending","processing","shipping","delivered","canceled","return_requested","return_approved","return_rejected","returned"],"type":"string"}},{"name":"customerId","required":false,"in":"query","description":"Filter by customer ID","schema":{"type":"string"}},{"name":"startDate","required":false,"in":"query","description":"Filter from date (ISO string)","schema":{"type":"string"}},{"name":"endDate","required":false,"in":"query","description":"Filter to date (ISO string)","schema":{"type":"string"}}],"responses":{"200":{"description":"Orders retrieved successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/OrderResponseDto"}}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Get all orders","tags":["Admin - Orders"]}},"/api/admin/orders/{id}":{"get":{"description":"Retrieve detailed information about a specific order","operationId":"AdminOrderController_getOrderById","parameters":[{"name":"id","required":true,"in":"path","description":"Order ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Order retrieved successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"$ref":"#/components/schemas/OrderResponseDto"}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"404":{"description":"Order not found not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Get order by ID","tags":["Admin - Orders"]}},"/api/admin/orders/{id}/status":{"patch":{"description":"Update the status of an order","operationId":"AdminOrderController_updateOrderStatus","parameters":[{"name":"id","required":true,"in":"path","description":"Order ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateOrderStatusDto"}}}},"responses":{"200":{"description":"Order status updated successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"$ref":"#/components/schemas/OrderResponseDto"}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"404":{"description":"Order not found not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Update order status","tags":["Admin - Orders"]}},"/api/seller/orders":{"get":{"description":"Retrieve orders that contain products sold by this seller","operationId":"SellerOrderController_getSellerOrders","parameters":[{"name":"page","required":false,"in":"query","description":"Page number","schema":{"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Items per page","schema":{"example":10,"type":"number"}}],"responses":{"200":{"description":"Orders retrieved successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/OrderResponseDto"}}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Get orders containing my products","tags":["Seller - Orders"]}},"/api/seller/orders/{id}":{"get":{"description":"Retrieve detailed information about a specific order (if it contains seller products)","operationId":"SellerOrderController_getOrderById","parameters":[{"name":"id","required":true,"in":"path","description":"Order ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Order retrieved successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/HttpResponse"},{"properties":{"data":{"$ref":"#/components/schemas/OrderResponseDto"}},"required":["data"]}]}}}},"400":{"description":"Invalid input data or validation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestErrorDto"}}}},"401":{"description":"Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedErrorDto"}}}},"403":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorDto"}}}},"404":{"description":"Order not found not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundErrorDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorDto"}}}}},"security":[{"bearer":[]}],"summary":"Get order by ID","tags":["Seller - Orders"]}}},"info":{"title":"Snapcart API","description":"API documentation for the Snapcart Quick e-Commerce platform","version":"1.0","contact":{"name":"Rahil K","url":"https://www.linkedin.com/in/rahil234/","email":"rahilsardar234@gmail.com"}},"tags":[],"servers":[{"url":"http://localhost:4000","description":"Local Server"}],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"},"cookie":{"type":"apiKey","in":"cookie","name":"connect.sid"}},"schemas":{"MessageOnlyResponse":{"type":"object","properties":{"message":{"type":"string","example":"Response sent successfully"}},"required":["message"]},"RegisterDto":{"type":"object","properties":{"email":{"type":"string","description":"Email address","example":"user@example.com"},"phone":{"type":"string","description":"Phone number","example":"+1234567890"},"password":{"type":"string","description":"Password (min 6 characters)","example":"password123"}},"required":["password"]},"BadRequestErrorDto":{"type":"object","properties":{"statusCode":{"type":"number","example":400},"message":{"example":["name should not be empty","email must be an email"],"description":"List of validation errors","type":"array","items":{"type":"string"}},"error":{"type":"string","example":"Bad Request"}},"required":["statusCode","message","error"]},"ConflictErrorDto":{"type":"object","properties":{"statusCode":{"type":"number","example":409},"message":{"type":"string","example":"Resource already exists"},"error":{"type":"string","example":"Conflict"}},"required":["statusCode","message","error"]},"InternalServerErrorDto":{"type":"object","properties":{"statusCode":{"type":"number","example":500},"message":{"type":"string","example":"Internal server error"},"error":{"type":"string","example":"Internal Server Error"}},"required":["statusCode","message","error"]},"LoginDto":{"type":"object","properties":{"identifier":{"type":"string","description":"Email or phone number","example":"user@example.com"},"method":{"type":"string","description":"Authentication method (PASSWORD or OTP only)","enum":["PASSWORD","OTP"],"example":"PASSWORD"},"password":{"type":"string","description":"Password (required for PASSWORD method)","example":"password123"},"otp":{"type":"string","description":"OTP code (required for OTP method)","example":"1234"}},"required":["identifier","method"]},"LoginWithGoogleDto":{"type":"object","properties":{"idToken":{"type":"string","description":"Google ID token","example":"eyJhbGciOiJSUzI1NiIsImtpZCI6..."}},"required":["idToken"]},"RequestOTPDto":{"type":"object","properties":{"identifier":{"type":"string","description":"Email or phone number","example":"user@example.com"}},"required":["identifier"]},"VerifyOTPDto":{"type":"object","properties":{"identifier":{"type":"string","description":"Email or phone number","example":"user@example.com"},"otp":{"type":"string","description":"OTP code (4 digits)","example":"1234"}},"required":["identifier","otp"]},"HttpResponse":{"type":"object","properties":{"message":{"type":"string","example":"Response sent successfully"},"data":{"type":"object"}},"required":["message"]},"CustomerProfileDto":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"}},"required":["id"]},"SellerProfileDto":{"type":"object","properties":{"id":{"type":"string"},"storeName":{"type":"string"},"isVerified":{"type":"boolean"}},"required":["id","storeName","isVerified"]},"MeResponseDto":{"type":"object","properties":{"id":{"type":"string"},"email":{"type":"string"},"role":{"type":"string","enum":["ADMIN","SELLER","CUSTOMER"]},"status":{"type":"string","enum":["active","suspended","disabled"]},"customerProfile":{"$ref":"#/components/schemas/CustomerProfileDto"},"sellerProfile":{"$ref":"#/components/schemas/SellerProfileDto"}},"required":["id","role","status"]},"UnauthorizedErrorDto":{"type":"object","properties":{"statusCode":{"type":"number","example":401},"message":{"type":"string","example":"Unauthorized"},"error":{"type":"string","example":"Unauthorized"}},"required":["statusCode","message","error"]},"ForbiddenErrorDto":{"type":"object","properties":{"statusCode":{"type":"number","example":403},"message":{"type":"string","example":"Forbidden resource"},"error":{"type":"string","example":"Forbidden"}},"required":["statusCode","message","error"]},"PaginationMetaDto":{"type":"object","properties":{"page":{"type":"number","description":"Current page number","example":1},"limit":{"type":"number","description":"Number of items per page","example":10},"total":{"type":"number","description":"Total number of items","example":100},"hasNextPage":{"type":"boolean","description":"Whether there is a next page","example":true},"hasPrevPage":{"type":"boolean","description":"Whether there is a previous page","example":false}},"required":["page","limit","total","hasNextPage","hasPrevPage"]},"HttpPaginatedResponse":{"type":"object","properties":{"message":{"type":"string","example":"Response sent successfully"},"data":{"type":"object"},"meta":{"description":"Pagination metadata","allOf":[{"$ref":"#/components/schemas/PaginationMetaDto"}]}},"required":["message","meta"]},"UserResponseDto":{"type":"object","properties":{"id":{"type":"string"},"email":{"type":"string","description":"Email address of the user. Optional if the user registered with phone number.","example":"user@example.com","nullable":true},"phone":{"type":"string","description":"Phone number of the user. Optional if the user registered with email address.","example":"+1234567890","nullable":true},"role":{"type":"string","enum":["ADMIN","SELLER","CUSTOMER"]},"status":{"type":"string","enum":["active","suspended","disabled"]},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["id","phone","role","status","createdAt","updatedAt"]},"NotFoundErrorDto":{"type":"object","properties":{"statusCode":{"type":"number","example":404},"message":{"type":"string","example":"Resource not found"},"error":{"type":"string","example":"Not Found"}},"required":["statusCode","message","error"]},"UpdateUserDto":{"type":"object","properties":{"name":{"type":"string","description":"User name"},"email":{"type":"string","description":"User email"},"phone":{"type":"string","description":"User phone"},"dob":{"format":"date-time","type":"string","description":"Date of birth"},"gender":{"type":"string","description":"Gender","enum":["male","female","other"]}}},"UpdateUserStatusDto":{"type":"object","properties":{"status":{"type":"string","description":"Account status","enum":["active","suspended","disabled"]}},"required":["status"]},"AddressResponseDto":{"type":"object","properties":{"id":{"type":"string"},"customerId":{"type":"string"},"isPrimary":{"type":"boolean"},"houseNo":{"type":"string"},"street":{"type":"string"},"city":{"type":"string"},"state":{"type":"string"},"country":{"type":"string"},"pincode":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["id","customerId","isPrimary","createdAt","updatedAt"]},"CreateAddressDto":{"type":"object","properties":{"houseNo":{"type":"string","description":"House number"},"street":{"type":"string","description":"Street"},"city":{"type":"string","description":"City"},"state":{"type":"string","description":"State"},"country":{"type":"string","description":"Country"},"pincode":{"type":"string","description":"Pincode"},"isPrimary":{"type":"boolean","description":"Is primary address","default":false}}},"UpdateAddressDto":{"type":"object","properties":{"houseNo":{"type":"string","description":"House number (set to null to clear)"},"street":{"type":"string","description":"Street (set to null to clear)"},"city":{"type":"string","description":"City (set to null to clear)"},"state":{"type":"string","description":"State (set to null to clear)"},"country":{"type":"string","description":"Country (set to null to clear)"},"pincode":{"type":"string","description":"Pincode (set to null to clear)"},"isPrimary":{"type":"boolean","description":"Is primary address"}}},"Object":{"type":"object","properties":{}},"ProductResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Product ID","example":"123e4567-e89b-12d3-a456-426614174000"},"name":{"type":"string","description":"Product name","example":"Basmati Rice"},"description":{"type":"string","description":"Product description","example":"Premium long-grain basmati rice from Punjab"},"categoryId":{"type":"string","description":"Category ID","example":"123e4567-e89b-12d3-a456-426614174001"},"brand":{"type":"string","description":"Brand name","example":"India Gate"},"status":{"type":"string","description":"Product status (catalog lifecycle)","enum":["active","inactive","discontinued"],"example":"active"},"isActive":{"type":"boolean","description":"Whether product is active in catalog","example":true},"isInCatalog":{"type":"boolean","description":"Whether product is in catalog (not deleted/discontinued)","example":true},"createdAt":{"format":"date-time","type":"string","description":"Product creation date","example":"2026-02-01T10:00:00.000Z"},"updatedAt":{"format":"date-time","type":"string","description":"Product last update date","example":"2026-02-01T15:30:00.000Z"}},"required":["id","name","description","categoryId","status","isActive","isInCatalog","createdAt","updatedAt"]},"UpdateProductDto":{"type":"object","properties":{"name":{"type":"string","description":"Product name","example":"Premium Basmati Rice","minLength":1,"maxLength":200},"description":{"type":"string","description":"Product description","example":"Extra long grain premium basmati rice","maxLength":2000},"brand":{"type":"string","description":"Brand name","example":"India Gate Premium","maxLength":100},"categoryId":{"type":"string","description":"Category ID (use with caution - cannot change if discontinued)","example":"123e4567-e89b-12d3-a456-426614174001"},"status":{"type":"string","description":"Product status (catalog lifecycle)","enum":["active","inactive","discontinued"],"example":"active"}}},"CategoryNestedDto":{"type":"object","properties":{"id":{"type":"string","description":"Category ID","example":"123e4567-e89b-12d3-a456-426614174001"},"name":{"type":"string","description":"Category name","example":"Groceries"},"status":{"type":"string","description":"Category status","example":"active","enum":["active","inactive"]}},"required":["id","name","status"]},"VariantPreviewDto":{"type":"object","properties":{"id":{"type":"string","description":"Variant ID","example":"c000000000000000000000000"},"variantName":{"type":"string","description":"Variant name","example":"1kg"},"price":{"type":"number","description":"Base price","example":120},"discountPercent":{"type":"number","description":"Discount percentage","example":10},"finalPrice":{"type":"number","description":"Final price after discount","example":108},"stock":{"type":"number","description":"Stock quantity","example":100},"imageUrl":{"type":"string","description":"Single image URL (first image)","example":"https://res.cloudinary.com/demo/image1.jpg"},"availableForPurchase":{"type":"boolean","description":"Whether variant is available for purchase","example":true}},"required":["id","variantName","price","discountPercent","finalPrice","stock","availableForPurchase"]},"ProductWithVariantPreviewDto":{"type":"object","properties":{"id":{"type":"string","description":"Product ID","example":"123e4567-e89b-12d3-a456-426614174000"},"name":{"type":"string","description":"Product name","example":"Basmati Rice"},"brand":{"type":"string","description":"Brand name","example":"India Gate"},"category":{"description":"Category details","allOf":[{"$ref":"#/components/schemas/CategoryNestedDto"}]},"variant":{"description":"Featured/first variant for quick preview","allOf":[{"$ref":"#/components/schemas/VariantPreviewDto"}]}},"required":["id","name","category","variant"]},"VariantResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Variant ID","example":"c000000000000000000000000","format":"cuid"},"productId":{"type":"string","description":"Product ID","example":"c000000000000000000000001","format":"cuid"},"variantName":{"type":"string","description":"Variant name","example":"1kg"},"price":{"type":"number","description":"Base price","example":120},"discountPercent":{"type":"number","description":"Discount percentage","example":10},"finalPrice":{"type":"number","description":"Final price after discount","example":108},"stock":{"type":"number","description":"Stock quantity","example":100},"status":{"type":"string","description":"Variant status","enum":["active","inactive","out_of_stock"],"example":"active"},"isActive":{"type":"boolean","description":"Whether variant is active","example":true},"inStock":{"type":"boolean","description":"Whether variant is in stock","example":true},"availableForPurchase":{"type":"boolean","description":"Whether variant is available for purchase","example":true},"sellerProfileId":{"type":"object","description":"Seller profile ID","example":"123e4567-e89b-12d3-a456-426614174002","nullable":true},"attributes":{"type":"object","description":"Additional attributes","example":{"weight":"1kg","organic":true},"nullable":true},"images":{"description":"Image URLs (array of strings, max 6)","example":["https://res.cloudinary.com/demo/image1.jpg","https://res.cloudinary.com/demo/image2.jpg"],"type":"array","items":{"type":"string"}},"createdAt":{"format":"date-time","type":"string","description":"Creation date","example":"2026-02-01T10:00:00.000Z"},"updatedAt":{"format":"date-time","type":"string","description":"Last update date","example":"2026-02-01T15:30:00.000Z"}},"required":["id","productId","variantName","price","discountPercent","finalPrice","stock","status","isActive","inStock","availableForPurchase","images","createdAt","updatedAt"]},"ProductWithVariantsResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Product ID","example":"123e4567-e89b-12d3-a456-426614174000"},"name":{"type":"string","description":"Product name","example":"Basmati Rice"},"description":{"type":"string","description":"Product description","example":"Premium long-grain basmati rice from Punjab"},"categoryId":{"type":"string","description":"Category ID","example":"123e4567-e89b-12d3-a456-426614174001"},"brand":{"type":"string","description":"Brand name","example":"India Gate"},"status":{"type":"string","description":"Product status (catalog lifecycle)","enum":["active","inactive","discontinued"],"example":"active"},"isActive":{"type":"boolean","description":"Whether product is active in catalog","example":true},"isInCatalog":{"type":"boolean","description":"Whether product is in catalog (not deleted/discontinued)","example":true},"createdAt":{"format":"date-time","type":"string","description":"Product creation date","example":"2026-02-01T10:00:00.000Z"},"updatedAt":{"format":"date-time","type":"string","description":"Product last update date","example":"2026-02-01T15:30:00.000Z"},"category":{"description":"Category details","allOf":[{"$ref":"#/components/schemas/CategoryNestedDto"}]},"variants":{"description":"Sellable variants of the product","type":"array","items":{"$ref":"#/components/schemas/VariantResponseDto"}}},"required":["id","name","description","categoryId","status","isActive","isInCatalog","createdAt","updatedAt","category","variants"]},"ProductDetailDto":{"type":"object","properties":{"id":{"type":"string","description":"Product ID","example":"123e4567-e89b-12d3-a456-426614174000"},"name":{"type":"string","description":"Product name","example":"Basmati Rice"},"description":{"type":"string","description":"Product description","example":"Premium long-grain basmati rice from Punjab"},"brand":{"type":"string","description":"Brand name","example":"India Gate"},"status":{"type":"string","description":"Product status (catalog lifecycle)","enum":["active","inactive","discontinued"],"example":"active"},"isActive":{"type":"boolean","description":"Whether product is active in catalog","example":true},"category":{"description":"Category details","allOf":[{"$ref":"#/components/schemas/CategoryNestedDto"}]},"variants":{"description":"All available variants with images","type":"array","items":{"$ref":"#/components/schemas/VariantResponseDto"}},"createdAt":{"format":"date-time","type":"string","description":"Product creation date","example":"2026-02-01T10:00:00.000Z"},"updatedAt":{"format":"date-time","type":"string","description":"Product last update date","example":"2026-02-01T15:30:00.000Z"}},"required":["id","name","description","status","isActive","category","variants","createdAt","updatedAt"]},"CreateProductDto":{"type":"object","properties":{"name":{"type":"string","description":"Product name (catalog identity)","example":"Basmati Rice","minLength":1,"maxLength":200},"description":{"type":"string","description":"Product description","example":"Premium long-grain basmati rice from Punjab","maxLength":2000},"categoryId":{"type":"string","description":"Category ID","example":"123e4567-e89b-12d3-a456-426614174000"},"brand":{"type":"string","description":"Brand name","example":"India Gate","maxLength":100}},"required":["name","description","categoryId"]},"UpdateProductStatusDto":{"type":"object","properties":{"status":{"type":"string","enum":["active","inactive","discontinued"],"description":"New product status","example":"active"}},"required":["status"]},"CreateVariantDto":{"type":"object","properties":{"variantName":{"type":"string","description":"Variant name (e.g., size, weight, color)","example":"1kg","minLength":1,"maxLength":100},"price":{"type":"number","description":"Price (base price before discount)","example":120,"minimum":0.01},"stock":{"type":"number","description":"Stock quantity","example":100,"minimum":0},"discountPercent":{"type":"number","description":"Discount percentage (0-100)","example":10,"minimum":0,"maximum":100,"default":0},"sellerProfileId":{"type":"string","description":"Seller profile ID (who sells this variant)","example":"123e4567-e89b-12d3-a456-426614174000"},"attributes":{"type":"object","description":"Additional attributes (e.g., weight, organic flag)","example":{"weight":"1kg","organic":true}}},"required":["variantName","price","stock"]},"UpdateVariantDto":{"type":"object","properties":{"variantName":{"type":"string","description":"Variant name","example":"1kg Premium","minLength":1,"maxLength":100},"price":{"type":"number","description":"Price (base price before discount)","example":125,"minimum":0.01},"discountPercent":{"type":"number","description":"Discount percentage (0-100, set to 0 to remove discount)","example":15,"minimum":0,"maximum":100},"stock":{"type":"number","description":"Stock quantity","example":80,"minimum":0},"status":{"type":"string","description":"Variant status","enum":["active","inactive","out_of_stock"],"example":"active"},"isActive":{"type":"boolean","description":"Whether variant is active (available for purchase)","example":true},"sellerProfileId":{"type":"object","description":"Seller profile ID (null to remove seller)","example":"123e4567-e89b-12d3-a456-426614174000","nullable":true},"attributes":{"type":"object","description":"Additional attributes (e.g., weight, organic flag)","example":{"weight":"1kg","organic":true}}}},"UpdateVariantStockDto":{"type":"object","properties":{"action":{"type":"string","description":"Stock action type","enum":["set","add","reduce"],"example":"add"},"quantity":{"type":"number","description":"Stock quantity","example":50,"minimum":0}},"required":["action","quantity"]},"UploadVariantImageResponseDto":{"type":"object","properties":{"provider":{"type":"string","example":"cloudinary","enum":["cloudinary","azure"],"description":"Image storage provider"},"uploadUrl":{"type":"string","example":"https://example-bucket.com","description":"URL of the storage bucket to upload the image to"},"method":{"type":"string","example":"PUT","description":"HTTP method to use for upload"},"readUrl":{"type":"string","example":"https://example-bucket.com/image.jpg","description":"URL to read/access the uploaded image"},"fields":{"type":"object","example":{"folder":"products/variant123","tags":"summer,sale"},"description":"Additional fields required for the upload"}},"required":["provider","uploadUrl","method"]},"SaveVariantImageDto":{"type":"object","properties":{"publicId":{"type":"string","description":"Cloudinary public ID returned after upload","example":"snapcart/variants/abc123def456"},"url":{"type":"string","description":"Image URL returned from Cloudinary","example":"https://res.cloudinary.com/demo/image/upload/v1/snapcart/variants/abc123def456.jpg"}},"required":["publicId","url"]},"CreateCategoryDto":{"type":"object","properties":{"name":{"type":"string","description":"Category name","example":"Electronics"},"description":{"type":"object","description":"Category description","example":"Electronic devices and accessories"},"imageUrl":{"type":"object","description":"Category image URL","example":"https://example.com/images/electronics.jpg"},"parentId":{"type":"object","description":"Parent category ID for subcategories","example":"123e4567-e89b-12d3-a456-426614174000"}},"required":["name"]},"CategoryResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Category ID","example":"123e4567-e89b-12d3-a456-426614174000"},"name":{"type":"string","description":"Category name","example":"Electronics"},"status":{"type":"string","description":"Category status","example":"active","enum":["active","inactive"]},"createdAt":{"format":"date-time","type":"string","description":"Creation timestamp","example":"2024-01-01T00:00:00.000Z"},"updatedAt":{"format":"date-time","type":"string","description":"Last update timestamp","example":"2024-01-01T00:00:00.000Z"}},"required":["id","name","status","createdAt","updatedAt"]},"UpdateCategoryDto":{"type":"object","properties":{"name":{"type":"string","description":"Category name","example":"Electronics"},"status":{"type":"string","description":"Category status (e.g., active, inactive)","example":"active","enum":["active","inactive"]},"imageUrl":{"type":"object","description":"Category image URL","example":"https://example.com/images/electronics.jpg"},"parentId":{"type":"object","description":"Parent category ID for subcategories","example":"123e4567-e89b-12d3-a456-426614174000"}}},"ProductVariantDto":{"type":"object","properties":{"id":{"type":"string","description":"The unique identifier of the product variant","example":"variant-1"},"variantName":{"type":"string","description":"The name of the product variant","example":"Smartphone - Black"},"price":{"type":"number","description":"The price of the product variant","example":699.99},"discountPercentage":{"type":"number","description":"The discount percentage of the product variant","example":10},"imageUrl":{"type":"string","description":"The URL of the product variant image","example":"https://example.com/images/variant-1-img1.jpg"}},"required":["id","variantName","price","imageUrl"]},"ProductDto":{"type":"object","properties":{"id":{"type":"string","description":"The unique identifier of the product","example":"product-1"},"name":{"type":"string","description":"The name of the product","example":"Smartphone"},"category":{"description":"The category of the product","allOf":[{"$ref":"#/components/schemas/CategoryResponseDto"}]},"variant":{"description":"The variant of the product","allOf":[{"$ref":"#/components/schemas/ProductVariantDto"}]}},"required":["id","name","category","variant"]},"GetCategoryProductFeedResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"The unique identifier of the category","example":"category-123"},"name":{"type":"string","description":"The name of the category","example":"Electronics"},"products":{"description":"List of products in the category","type":"array","items":{"$ref":"#/components/schemas/ProductDto"}}},"required":["id","name","products"]},"OfferResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Offer ID","example":"offer_clx1234567890"},"name":{"type":"string","description":"Offer name","example":"Summer Sale 2026"},"type":{"type":"string","description":"Discount type","enum":["Percentage","Flat"],"example":"Percentage"},"discount":{"type":"number","description":"Discount value","example":25},"minPurchaseAmount":{"type":"number","description":"Minimum purchase amount required","example":1000},"maxDiscount":{"type":"number","description":"Maximum discount amount","example":500},"priority":{"type":"number","description":"Priority (higher = more important)","example":10},"startDate":{"format":"date-time","type":"string","description":"Offer start date","example":"2026-02-09T00:00:00.000Z"},"endDate":{"format":"date-time","type":"string","description":"Offer end date","example":"2026-03-31T23:59:59.000Z"},"status":{"type":"string","description":"Offer status","enum":["active","inactive","expired"],"example":"active"},"isStackable":{"type":"boolean","description":"Can be stacked with coupons","example":false},"categories":{"description":"Applicable category IDs","example":["cat_123","cat_456"],"type":"array","items":{"type":"string"}},"products":{"description":"Applicable product IDs","example":["prod_123","prod_456"],"type":"array","items":{"type":"string"}},"description":{"type":"string","description":"Offer description","example":"Get 25% off on summer collection"},"isActive":{"type":"boolean","description":"Whether offer is currently active","example":true},"createdAt":{"format":"date-time","type":"string","description":"Creation timestamp","example":"2026-02-09T10:00:00.000Z"},"updatedAt":{"format":"date-time","type":"string","description":"Last update timestamp","example":"2026-02-09T15:30:00.000Z"}},"required":["id","name","type","discount","minPurchaseAmount","priority","startDate","endDate","status","isStackable","categories","products","isActive","createdAt","updatedAt"]},"CreateOfferDto":{"type":"object","properties":{"name":{"type":"string","description":"Offer name","example":"Summer Sale 2026","minLength":3,"maxLength":200},"type":{"type":"string","description":"Type of discount","enum":["Percentage","Flat"],"example":"Percentage"},"discount":{"type":"number","description":"Discount value (percentage or flat amount)","example":25,"minimum":0},"startDate":{"type":"string","description":"Offer start date","example":"2026-02-09T00:00:00Z"},"endDate":{"type":"string","description":"Offer end date","example":"2026-03-31T23:59:59Z"},"minPurchaseAmount":{"type":"number","description":"Minimum purchase amount required","example":1000,"minimum":0,"default":0},"maxDiscount":{"type":"number","description":"Maximum discount amount (for percentage offers)","example":500,"minimum":0},"priority":{"type":"number","description":"Priority (higher number = higher priority)","example":10,"minimum":0,"default":0},"categories":{"description":"Category IDs this offer applies to","example":["cat_123","cat_456"],"type":"array","items":{"type":"string"}},"products":{"description":"Product IDs this offer applies to","example":["prod_123","prod_456"],"type":"array","items":{"type":"string"}},"isStackable":{"type":"boolean","description":"Whether offer can be combined with coupons","example":false,"default":false},"description":{"type":"string","description":"Offer description for users","example":"Get 25% off on summer collection","maxLength":500}},"required":["name","type","discount","startDate","endDate","minPurchaseAmount","priority","isStackable"]},"UpdateOfferDto":{"type":"object","properties":{"name":{"type":"string","description":"Offer name","example":"Summer Sale 2026"},"type":{"type":"string","description":"Type of discount","enum":["Percentage","Flat"],"example":"Percentage"},"discount":{"type":"number","description":"Discount value","example":25},"startDate":{"type":"string","description":"Start date","example":"2026-02-09T00:00:00Z"},"endDate":{"type":"string","description":"End date","example":"2026-03-31T23:59:59Z"},"minPurchaseAmount":{"type":"number","description":"Minimum purchase amount","example":1000},"maxDiscount":{"type":"number","description":"Maximum discount amount","example":500},"priority":{"type":"number","description":"Priority","example":10},"categories":{"description":"Category IDs","type":"array","items":{"type":"string"}},"products":{"description":"Product IDs","type":"array","items":{"type":"string"}},"isStackable":{"type":"boolean","description":"Stackable with coupons","example":false},"description":{"type":"string","description":"Offer description","example":"Get 25% off on summer collection"}}},"CouponResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Coupon ID","example":"clx1234567890"},"code":{"type":"string","description":"Coupon code","example":"SAVE20"},"type":{"type":"string","description":"Discount type","enum":["Percentage","Flat"],"example":"Percentage"},"discount":{"type":"number","description":"Discount value","example":20},"minAmount":{"type":"number","description":"Minimum cart amount required","example":500},"maxDiscount":{"type":"number","description":"Maximum discount amount","example":100},"startDate":{"format":"date-time","type":"string","description":"Coupon start date","example":"2026-02-08T00:00:00.000Z"},"endDate":{"format":"date-time","type":"string","description":"Coupon end date","example":"2026-03-08T23:59:59.000Z"},"status":{"type":"string","description":"Coupon status","enum":["active","inactive","expired"],"example":"active"},"usageLimit":{"type":"number","description":"Total usage limit","example":1000},"usedCount":{"type":"number","description":"Times this coupon has been used","example":250},"maxUsagePerUser":{"type":"number","description":"Maximum times a user can use this coupon","example":1},"applicableTo":{"type":"string","description":"Applicability scope","enum":["all","specific_products","specific_categories"],"example":"all"},"isStackable":{"type":"boolean","description":"Can be stacked with offers","example":false},"description":{"type":"string","description":"Coupon description","example":"Get 20% off on orders above 500"},"isActive":{"type":"boolean","description":"Whether coupon is currently active","example":true},"isLimitReached":{"type":"boolean","description":"Whether usage limit is reached","example":false},"createdAt":{"format":"date-time","type":"string","description":"Creation timestamp","example":"2026-02-01T10:00:00.000Z"},"updatedAt":{"format":"date-time","type":"string","description":"Last update timestamp","example":"2026-02-05T15:30:00.000Z"}},"required":["id","code","type","discount","minAmount","startDate","endDate","status","usedCount","maxUsagePerUser","applicableTo","isStackable","isActive","isLimitReached","createdAt","updatedAt"]},"CouponValidationResponseDto":{"type":"object","properties":{"valid":{"type":"boolean","description":"Whether the coupon is valid","example":true},"reason":{"type":"string","description":"Reason if coupon is invalid","example":"Minimum cart value of 500 required","nullable":true},"discount":{"type":"number","description":"Discount amount that will be applied","example":100},"code":{"type":"string","description":"Coupon code that was validated","example":"SAVE20"}},"required":["valid","reason","discount","code"]},"ValidateCouponDto":{"type":"object","properties":{"code":{"type":"string","description":"Coupon code to validate","example":"SAVE20"},"cartTotal":{"type":"number","description":"Current cart total amount","example":1500,"minimum":0}},"required":["code","cartTotal"]},"CreateCouponDto":{"type":"object","properties":{"code":{"type":"string","description":"Unique coupon code (will be converted to uppercase)","example":"SAVE20","minLength":3,"maxLength":50},"type":{"type":"string","description":"Type of discount","enum":["Percentage","Flat"],"example":"Percentage"},"discount":{"type":"number","description":"Discount value (percentage or flat amount)","example":20,"minimum":0},"minAmount":{"type":"number","description":"Minimum cart amount required to use coupon","example":500,"minimum":0,"default":0},"startDate":{"type":"string","description":"Coupon start date","example":"2026-02-08T00:00:00Z"},"endDate":{"type":"string","description":"Coupon end date","example":"2026-03-08T23:59:59Z"},"maxDiscount":{"type":"number","description":"Maximum discount amount (for percentage coupons)","example":100,"minimum":0},"usageLimit":{"type":"number","description":"Total usage limit for this coupon","example":1000,"minimum":1},"maxUsagePerUser":{"type":"number","description":"Maximum times a single user can use this coupon","example":1,"minimum":1,"default":1},"applicableTo":{"type":"string","description":"Applicability scope","enum":["all","specific_products","specific_categories"],"example":"all","default":"all"},"isStackable":{"type":"boolean","description":"Whether coupon can be combined with offers","example":false,"default":false},"description":{"type":"string","description":"Coupon description for users","example":"Get 20% off on orders above 500","maxLength":500}},"required":["code","type","discount","minAmount","startDate","endDate","maxUsagePerUser","applicableTo","isStackable"]},"UpdateCouponDto":{"type":"object","properties":{"code":{"type":"string","description":"Unique coupon code","example":"SAVE20"},"type":{"type":"string","description":"Type of discount","enum":["Percentage","Flat"],"example":"Percentage"},"discount":{"type":"number","description":"Discount value","example":20},"minAmount":{"type":"number","description":"Minimum cart amount","example":500},"maxDiscount":{"type":"number","description":"Maximum discount amount","example":100},"startDate":{"type":"string","description":"Start date","example":"2026-02-08T00:00:00Z"},"endDate":{"type":"string","description":"End date","example":"2026-03-08T23:59:59Z"},"usageLimit":{"type":"number","description":"Total usage limit","example":1000},"maxUsagePerUser":{"type":"number","description":"Max usage per user","example":1},"applicableTo":{"type":"string","description":"Applicability scope","enum":["all","specific_products","specific_categories"]},"isStackable":{"type":"boolean","description":"Stackable with offers","example":false},"description":{"type":"string","description":"Coupon description","example":"Get 20% off on orders above 500"}}},"CouponUsageResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Usage record ID","example":"clx1234567890"},"couponId":{"type":"string","description":"Coupon ID","example":"clx0987654321"},"userId":{"type":"string","description":"User ID who used the coupon","example":"clx1111111111"},"orderId":{"type":"string","description":"Order ID where coupon was applied","example":"order_123"},"discountApplied":{"type":"number","description":"Discount amount that was applied","example":100},"usedAt":{"format":"date-time","type":"string","description":"When the coupon was used","example":"2026-02-08T14:30:00.000Z"}},"required":["id","couponId","userId","discountApplied","usedAt"]},"ProductVariantDetailDto":{"type":"object","properties":{"id":{"type":"string","description":"Product variant ID","example":"variant_123abc"},"variantName":{"type":"string","description":"Variant name (e.g., \"500g\", \"1kg\", \"Red-M\")","example":"1kg"},"price":{"type":"number","description":"Price of the variant","example":29.99},"discountPercent":{"type":"number","description":"Discount percentage","example":10},"finalPrice":{"type":"number","description":"Final price after discount","example":26.99},"stock":{"type":"number","description":"Stock available","example":100},"status":{"type":"string","description":"Variant status","example":"active"},"productId":{"type":"string","description":"Product ID","example":"product_456def"},"productName":{"type":"string","description":"Product name","example":"Basmati Rice"},"productDescription":{"type":"string","description":"Product description","example":"Premium quality basmati rice"},"productBrand":{"type":"object","description":"Product brand","example":"India Gate","nullable":true},"imageUrl":{"type":"string","description":"Variant image URL","example":"https://example.com/image.jpg"}},"required":["id","variantName","price","discountPercent","finalPrice","stock","status","productId","productName","productDescription","productBrand","imageUrl"]},"CartItemWithDetailsResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Cart item ID","example":"item_123abc"},"cartId":{"type":"string","description":"Cart ID","example":"cart_456def"},"productVariantId":{"type":"string","description":"Product variant ID","example":"variant_789ghi"},"quantity":{"type":"number","description":"Quantity of the item","example":2},"variant":{"description":"Product variant details","allOf":[{"$ref":"#/components/schemas/ProductVariantDetailDto"}]},"subtotal":{"type":"number","description":"Subtotal (quantity  final price)","example":53.98},"createdAt":{"format":"date-time","type":"string","description":"Created at timestamp","example":"2026-02-06T10:30:00Z"},"updatedAt":{"format":"date-time","type":"string","description":"Updated at timestamp","example":"2026-02-06T10:30:00Z"}},"required":["id","cartId","productVariantId","quantity","variant","subtotal","createdAt","updatedAt"]},"CartWithDetailsResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Cart ID","example":"cart_123abc"},"customerId":{"type":"string","description":"Customer ID","example":"customer_456def"},"items":{"description":"Cart items with full product details","type":"array","items":{"$ref":"#/components/schemas/CartItemWithDetailsResponseDto"}},"totalItems":{"type":"number","description":"Total number of items (sum of all quantities)","example":5},"uniqueItemsCount":{"type":"number","description":"Number of unique items","example":3},"totalAmount":{"type":"number","description":"Total amount (sum of all subtotals)","example":159.95},"isEmpty":{"type":"boolean","description":"Whether the cart is empty","example":false},"createdAt":{"format":"date-time","type":"string","description":"Created at timestamp","example":"2026-02-06T10:30:00Z"},"updatedAt":{"format":"date-time","type":"string","description":"Updated at timestamp","example":"2026-02-06T10:30:00Z"}},"required":["id","customerId","items","totalItems","uniqueItemsCount","totalAmount","isEmpty","createdAt","updatedAt"]},"CartItemResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Cart item ID","example":"item_123abc"},"cartId":{"type":"string","description":"Cart ID","example":"cart_456def"},"productId":{"type":"string","description":"Product variant ID","example":"product_789ghi"},"variantId":{"type":"string","description":"Product variant ID","example":"variant_789ghi"},"quantity":{"type":"number","description":"Quantity of the item","example":2},"createdAt":{"format":"date-time","type":"string","description":"Created at timestamp","example":"2026-02-05T10:30:00Z"},"updatedAt":{"format":"date-time","type":"string","description":"Updated at timestamp","example":"2026-02-05T10:30:00Z"}},"required":["id","cartId","productId","variantId","quantity","createdAt","updatedAt"]},"AddItemToCartDto":{"type":"object","properties":{"productId":{"type":"string","description":"Product ID to add to cart","example":"product_123abc"},"productVariantId":{"type":"string","description":"Product variant ID to add to cart","example":"variant_123abc"},"quantity":{"type":"number","description":"Quantity to add","example":2,"minimum":1}},"required":["productId","productVariantId","quantity"]},"UpdateCartItemDto":{"type":"object","properties":{"quantity":{"type":"number","description":"New quantity for the cart item","example":3,"minimum":1}},"required":["quantity"]},"AppliedOfferDto":{"type":"object","properties":{"id":{"type":"string","description":"Offer ID","example":"offer_clx123"},"name":{"type":"string","description":"Offer name","example":"Summer Sale 25% Off"},"discount":{"type":"number","description":"Discount amount applied","example":125.5}},"required":["id","name","discount"]},"CartPricingDto":{"type":"object","properties":{"subtotal":{"type":"number","description":"Subtotal before any discounts","example":1500},"offerDiscount":{"type":"number","description":"Total discount from offers","example":150},"couponDiscount":{"type":"number","description":"Discount from applied coupon","example":100},"totalDiscount":{"type":"number","description":"Total discount amount","example":250},"finalTotal":{"type":"number","description":"Final total after all discounts","example":1250},"appliedOfferIds":{"description":"IDs of applied offers","example":["offer_clx123","offer_clx456"],"type":"array","items":{"type":"string"}},"appliedCouponCode":{"type":"string","description":"Applied coupon code","example":"SAVE20"},"savings":{"type":"number","description":"Total savings from all discounts","example":250},"appliedOffers":{"description":"List of applied offers with details","type":"array","items":{"$ref":"#/components/schemas/AppliedOfferDto"}}},"required":["subtotal","offerDiscount","couponDiscount","totalDiscount","finalTotal","appliedOfferIds","savings","appliedOffers"]},"ApplyCouponDto":{"type":"object","properties":{"code":{"type":"string","description":"Coupon code to apply","example":"SAVE20"}},"required":["code"]},"CouponSnapshotDto":{"type":"object","properties":{"code":{"type":"string","description":"Coupon code","example":"SAVE20"},"type":{"type":"string","description":"Coupon type","example":"PERCENTAGE"},"discount":{"type":"number","description":"Discount value","example":20},"discountApplied":{"type":"number","description":"Discount applied","example":150}},"required":["code","type","discount","discountApplied"]},"CheckoutPreviewResponseDto":{"type":"object","properties":{"subtotal":{"type":"number","description":"Subtotal before any discounts","example":1000},"productDiscount":{"type":"number","description":"Product-level discount","example":100},"couponDiscount":{"type":"number","description":"Coupon discount applied","example":150},"offerDiscount":{"type":"number","description":"Offer discount applied","example":0},"shippingCharge":{"type":"number","description":"Shipping charge","example":0},"tax":{"type":"number","description":"Tax amount","example":0},"total":{"type":"number","description":"Final total amount","example":750},"couponSnapshot":{"description":"Applied coupon details","allOf":[{"$ref":"#/components/schemas/CouponSnapshotDto"}]}},"required":["subtotal","productDiscount","couponDiscount","offerDiscount","shippingCharge","tax","total"]},"CheckoutPreviewDto":{"type":"object","properties":{"source":{"type":"string","description":"Checkout source - where checkout is initiated from","enum":["PRODUCT","CART"],"example":"CART"},"couponCode":{"type":"string","description":"Coupon code to apply","example":"SAVE20"}},"required":["source"]},"CheckoutCommitResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Order ID","example":"ord_123456789"},"orderNumber":{"type":"string","description":"Order number","example":"ORD-1234567890-ABC123"},"subtotal":{"type":"number","description":"Subtotal before any discounts","example":1000},"discount":{"type":"number","description":"Product-level discount","example":100},"couponDiscount":{"type":"number","description":"Coupon discount applied","example":150},"offerDiscount":{"type":"number","description":"Offer discount applied","example":0},"shippingCharge":{"type":"number","description":"Shipping charge","example":0},"tax":{"type":"number","description":"Tax amount","example":0},"total":{"type":"number","description":"Final total amount","example":750},"appliedCouponCode":{"type":"object","description":"Applied coupon code","example":"SAVE20"},"items":{"description":"Order items","type":"array","items":{"type":"object"}},"paymentStatus":{"type":"string","description":"Payment status","example":"pending"},"orderStatus":{"type":"string","description":"Order status","example":"pending"}},"required":["id","orderNumber","subtotal","discount","couponDiscount","offerDiscount","shippingCharge","tax","total","items","paymentStatus","orderStatus"]},"CheckoutCommitDto":{"type":"object","properties":{"source":{"type":"string","description":"Checkout source - where checkout is initiated from","enum":["PRODUCT","CART"],"example":"CART"},"couponCode":{"type":"string","description":"Coupon code to apply","example":"SAVE20"},"shippingAddressId":{"type":"string","description":"Shipping address ID","example":"addr_123456789"},"paymentMethod":{"type":"string","description":"Payment method","example":"RAZORPAY"}},"required":["source","shippingAddressId","paymentMethod"]},"CustomerInfoResponseDto":{"type":"object","properties":{"customerId":{"type":"string","description":"Customer profile ID"},"customerName":{"type":"string","description":"Customer name","nullable":true},"customerEmail":{"type":"string","description":"Customer email","nullable":true},"customerPhone":{"type":"string","description":"Customer phone","nullable":true}},"required":["customerId"]},"OrderItemResponseDto":{"type":"object","properties":{"productId":{"type":"string","description":"Product ID"},"productName":{"type":"string","description":"Product name"},"variantId":{"type":"string","description":"Variant ID"},"variantName":{"type":"string","description":"Variant name"},"quantity":{"type":"number","description":"Quantity ordered"},"basePrice":{"type":"number","description":"Base price per item"},"discountPercent":{"type":"number","description":"Discount percentage applied"},"finalPrice":{"type":"number","description":"Final price per item after discount"},"totalPrice":{"type":"number","description":"Total price for this item"},"attributes":{"type":"object","description":"Product variant attributes"},"imageUrl":{"type":"string","description":"Product image URL","nullable":true}},"required":["productId","productName","variantId","variantName","quantity","basePrice","discountPercent","finalPrice","totalPrice","attributes","imageUrl"]},"OrderResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Order ID"},"orderNumber":{"type":"string","description":"Order number"},"customerId":{"type":"string","description":"Customer ID"},"customer":{"description":"Customer information","allOf":[{"$ref":"#/components/schemas/CustomerInfoResponseDto"}]},"items":{"description":"Order items","type":"array","items":{"$ref":"#/components/schemas/OrderItemResponseDto"}},"subtotal":{"type":"number","description":"Subtotal amount"},"discount":{"type":"number","description":"Discount amount"},"couponDiscount":{"type":"number","description":"Coupon discount amount"},"offerDiscount":{"type":"number","description":"Offer discount amount"},"shippingCharge":{"type":"number","description":"Shipping charge"},"tax":{"type":"number","description":"Tax amount"},"total":{"type":"number","description":"Total amount"},"appliedCouponCode":{"type":"string","description":"Applied coupon code","nullable":true},"appliedOfferIds":{"description":"Applied offer IDs","type":"array","items":{"type":"string"}},"shippingAddress":{"type":"object","description":"Shipping address JSON"},"paymentMethod":{"type":"string","description":"Payment method","nullable":true},"paymentStatus":{"type":"string","description":"Payment status","enum":["pending","paid","failed","refunded"]},"orderStatus":{"type":"string","description":"Order status","enum":["pending","processing","shipping","delivered","canceled","return_requested","return_approved","return_rejected","returned"]},"metadata":{"type":"object","description":"Order metadata"},"cancelReason":{"type":"string","description":"Cancel reason","nullable":true},"refundAmount":{"type":"number","description":"Refund amount","nullable":true},"placedAt":{"format":"date-time","type":"string","description":"Order placed date"},"deliveredAt":{"format":"date-time","type":"string","description":"Delivered date","nullable":true},"cancelledAt":{"format":"date-time","type":"string","description":"Cancelled date","nullable":true},"updatedAt":{"format":"date-time","type":"string","description":"Last updated date"}},"required":["id","orderNumber","customerId","items","subtotal","discount","couponDiscount","offerDiscount","shippingCharge","tax","total","appliedCouponCode","appliedOfferIds","shippingAddress","paymentMethod","paymentStatus","orderStatus","metadata","cancelReason","refundAmount","placedAt","deliveredAt","cancelledAt","updatedAt"]},"CancelOrderDto":{"type":"object","properties":{"cancelReason":{"type":"string","description":"Reason for cancelling the order","example":"Changed my mind"}},"required":["cancelReason"]},"UpdateOrderStatusDto":{"type":"object","properties":{"status":{"type":"string","description":"New order status","enum":["pending","processing","shipping","delivered","canceled","return_requested","return_approved","return_rejected","returned"],"example":"processing"}},"required":["status"]}}}}